#include "hackpro.hpp"

class $(UILayer) {
	void customKeybind(int current, cocos2d::enumKeyCodes key) {
	if (current == 0) {
		if (current == key_current) customKey = KEY_A;
		if (current == key_current2) customKey2 = KEY_A;
		if (current == key_current3) customKey3 = KEY_A;
		if (current == key_current4) customKey4 = KEY_A;
		if (current == key_current5) customKey5 = KEY_A;
	} else if (current == 1) {
		if (current == key_current) customKey = KEY_B;
		if (current == key_current2) customKey2 = KEY_B;
		if (current == key_current3) customKey3 = KEY_B;
		if (current == key_current4) customKey4 = KEY_B;
		if (current == key_current5) customKey5 = KEY_B;
	} else if (current == 2) {
		if (current == key_current) customKey = KEY_C;
		if (current == key_current2) customKey2 = KEY_C;
		if (current == key_current3) customKey3 = KEY_C;
		if (current == key_current4) customKey4 = KEY_C;
		if (current == key_current5) customKey5 = KEY_C;
	} else if (current == 3) {
		if (current == key_current) customKey = KEY_D;
		if (current == key_current2) customKey2 = KEY_D;
		if (current == key_current3) customKey3 = KEY_D;
		if (current == key_current4) customKey4 = KEY_D;
		if (current == key_current5) customKey5 = KEY_D;
	} else if (current == 4) {
		if (current == key_current) customKey = KEY_E;
		if (current == key_current2) customKey2 = KEY_E;
		if (current == key_current3) customKey3 = KEY_E;
		if (current == key_current4) customKey4 = KEY_E;
		if (current == key_current5) customKey5 = KEY_E;
	} else if (current == 5) {
		if (current == key_current) customKey = KEY_F;
		if (current == key_current2) customKey2 = KEY_F;
		if (current == key_current3) customKey3 = KEY_F;
		if (current == key_current4) customKey4 = KEY_F;
		if (current == key_current5) customKey5 = KEY_F;
	} else if (current == 6) {
		if (current == key_current) customKey = KEY_G;
		if (current == key_current2) customKey2 = KEY_G;
		if (current == key_current3) customKey3 = KEY_G;
		if (current == key_current4) customKey4 = KEY_G;
		if (current == key_current5) customKey5 = KEY_G;
	} else if (current == 7) {
		if (current == key_current) customKey = KEY_H;
		if (current == key_current2) customKey2 = KEY_H;
		if (current == key_current3) customKey3 = KEY_H;
		if (current == key_current4) customKey4 = KEY_H;
		if (current == key_current5) customKey5 = KEY_H;
	} else if (current == 8) {
		if (current == key_current) customKey = KEY_I;
		if (current == key_current2) customKey2 = KEY_I;
		if (current == key_current3) customKey3 = KEY_I;
		if (current == key_current4) customKey4 = KEY_I;
		if (current == key_current5) customKey5 = KEY_I;
	} else if (current == 9) {
		if (current == key_current) customKey = KEY_J;
		if (current == key_current2) customKey2 = KEY_J;
		if (current == key_current3) customKey3 = KEY_J;
		if (current == key_current4) customKey4 = KEY_J;
		if (current == key_current5) customKey5 = KEY_J;
	} else if (current == 10) {
		if (current == key_current) customKey = KEY_K;
		if (current == key_current2) customKey2 = KEY_K;
		if (current == key_current3) customKey3 = KEY_K;
		if (current == key_current4) customKey4 = KEY_K;
		if (current == key_current5) customKey5 = KEY_K;
	} else if (current == 11) {
		if (current == key_current) customKey = KEY_L;
		if (current == key_current2) customKey2 = KEY_L;
		if (current == key_current3) customKey3 = KEY_L;
		if (current == key_current4) customKey4 = KEY_L;
		if (current == key_current5) customKey5 = KEY_L;
	} else if (current == 12) {
		if (current == key_current) customKey = KEY_M;
		if (current == key_current2) customKey2 = KEY_M;
		if (current == key_current3) customKey3 = KEY_M;
		if (current == key_current4) customKey4 = KEY_M;
		if (current == key_current5) customKey5 = KEY_M;
	} else if (current == 13) {
		if (current == key_current) customKey = KEY_N;
		if (current == key_current2) customKey2 = KEY_N;
		if (current == key_current3) customKey3 = KEY_N;
		if (current == key_current4) customKey4 = KEY_N;
		if (current == key_current5) customKey5 = KEY_N;
	} else if (current == 14) {
		if (current == key_current) customKey = KEY_O;
		if (current == key_current2) customKey2 = KEY_O;
		if (current == key_current3) customKey3 = KEY_O;
		if (current == key_current4) customKey4 = KEY_O;
		if (current == key_current5) customKey5 = KEY_O;
	} else if (current == 15) {
		if (current == key_current) customKey = KEY_P;
		if (current == key_current2) customKey2 = KEY_P;
		if (current == key_current3) customKey3 = KEY_P;
		if (current == key_current4) customKey4 = KEY_P;
		if (current == key_current5) customKey5 = KEY_P;
	} else if (current == 16) {
		if (current == key_current) customKey = KEY_Q;
		if (current == key_current2) customKey2 = KEY_Q;
		if (current == key_current3) customKey3 = KEY_Q;
		if (current == key_current4) customKey4 = KEY_Q;
		if (current == key_current5) customKey5 = KEY_Q;
	} else if (current == 17) {
		if (current == key_current) customKey = KEY_R;
		if (current == key_current2) customKey2 = KEY_R;
		if (current == key_current3) customKey3 = KEY_R;
		if (current == key_current4) customKey4 = KEY_R;
		if (current == key_current5) customKey5 = KEY_R;
	} else if (current == 18) {
		if (current == key_current) customKey = KEY_S;
		if (current == key_current2) customKey2 = KEY_S;
		if (current == key_current3) customKey3 = KEY_S;
		if (current == key_current4) customKey4 = KEY_S;
		if (current == key_current5) customKey5 = KEY_S;
	} else if (current == 19) {
		if (current == key_current) customKey = KEY_T;
		if (current == key_current2) customKey2 = KEY_T;
		if (current == key_current3) customKey3 = KEY_T;
		if (current == key_current4) customKey4 = KEY_T;
		if (current == key_current5) customKey5 = KEY_T;
	} else if (current == 20) {
		if (current == key_current) customKey = KEY_U;
		if (current == key_current2) customKey2 = KEY_U;
		if (current == key_current3) customKey3 = KEY_U;
		if (current == key_current4) customKey4 = KEY_U;
		if (current == key_current5) customKey5 = KEY_U;
	} else if (current == 21) {
		if (current == key_current) customKey = KEY_V;
		if (current == key_current2) customKey2 = KEY_V;
		if (current == key_current3) customKey3 = KEY_V;
		if (current == key_current4) customKey4 = KEY_V;
		if (current == key_current5) customKey5 = KEY_V;
	} else if (current == 22) {
		if (current == key_current) customKey = KEY_W;
		if (current == key_current2) customKey2 = KEY_W;
		if (current == key_current3) customKey3 = KEY_W;
		if (current == key_current4) customKey4 = KEY_W;
		if (current == key_current5) customKey5 = KEY_W;
	} else if (current == 23) {
		if (current == key_current) customKey = KEY_X;
		if (current == key_current2) customKey2 = KEY_X;
		if (current == key_current3) customKey3 = KEY_X;
		if (current == key_current4) customKey4 = KEY_X;
		if (current == key_current5) customKey5 = KEY_X;
	} else if (current == 24) {
		if (current == key_current) customKey = KEY_Y;
		if (current == key_current2) customKey2 = KEY_Y;
		if (current == key_current3) customKey3 = KEY_Y;
		if (current == key_current4) customKey4 = KEY_Y;
		if (current == key_current5) customKey5 = KEY_Y;
	} else if (current == 25) {
		if (current == key_current) customKey = KEY_Z;
		if (current == key_current2) customKey2 = KEY_Z;
		if (current == key_current3) customKey3 = KEY_Z;
		if (current == key_current4) customKey4 = KEY_Z;
		if (current == key_current5) customKey5 = KEY_Z;
	} else if (current == 26) {
		if (current == key_current) customKey = KEY_Left;
		if (current == key_current2) customKey2 = KEY_Left;
		if (current == key_current3) customKey3 = KEY_Left;
		if (current == key_current4) customKey4 = KEY_Left;
		if (current == key_current5) customKey5 = KEY_Left;
	} else if (current == 27) {
		if (current == key_current) customKey = KEY_Right;
		if (current == key_current2) customKey2 = KEY_Right;
		if (current == key_current3) customKey3 = KEY_Right;
		if (current == key_current4) customKey4 = KEY_Right;
		if (current == key_current5) customKey5 = KEY_Right;
	} else if (current == 28) {
		if (current == key_current) customKey = KEY_One;
		if (current == key_current2) customKey2 = KEY_One;
		if (current == key_current3) customKey3 = KEY_One;
		if (current == key_current4) customKey4 = KEY_One;
		if (current == key_current5) customKey5 = KEY_One;
	} else if (current == 29) {
		if (current == key_current) customKey = KEY_Two;
		if (current == key_current2) customKey2 = KEY_Two;
		if (current == key_current3) customKey3 = KEY_Two;
		if (current == key_current4) customKey4 = KEY_Two;
		if (current == key_current5) customKey5 = KEY_Two;
	} else if (current == 30) {
		if (current == key_current) customKey = KEY_Three;
		if (current == key_current2) customKey2 = KEY_Three;
		if (current == key_current3) customKey3 = KEY_Three;
		if (current == key_current4) customKey4 = KEY_Three;
		if (current == key_current5) customKey5 = KEY_Three;
	} else if (current == 31) {
		if (current == key_current) customKey = KEY_Four;
		if (current == key_current2) customKey2 = KEY_Four;
		if (current == key_current3) customKey3 = KEY_Four;
		if (current == key_current4) customKey4 = KEY_Four;
		if (current == key_current5) customKey5 = KEY_Four;
	} else if (current == 32) {
		if (current == key_current) customKey = KEY_Five;
		if (current == key_current2) customKey2 = KEY_Five;
		if (current == key_current3) customKey3 = KEY_Five;
		if (current == key_current4) customKey4 = KEY_Five;
		if (current == key_current5) customKey5 = KEY_Five;
	}
}

	void customMod(int current) {
		auto mpl = reinterpret_cast<Main*>(PlayLayer::get());
		bool hitbox = true;
		float tempSpeed = 1;
		if (current == 0) {
			noclip = !noclip;
		} else if (current == 1) {
			autoKill = !autoKill;
		} else if (current == 2) {
			PlayLayer::get()->resetLevel();
		} else if (current == 3) {
			if (speedhack != 1) {
				tempSpeed = speedhack;
				speedhack = 1;
			} else {
				speedhack = tempSpeed;
			}
		} else if (current == 4) {
			s_showOnDeath = !s_showOnDeath;
		} else if (current == 5) {
			if (playerBools[40]) {
				playerBools[40] = false;
				GJBaseGameLayer::get()->releaseButton(1,true);
			} else {
				playerBools[40] = true;
			}
		} else if (current == 6) {
			mpl->updateIndex(false);
		} else if (current == 7) {
			mpl->updateIndex(true);
		} else if (current == 10) {
			PlayLayer::get()->markCheckpoint();
		} else if (current == 11) {
			PlayLayer::get()->removeLastCheckpoint();
		}
	}

	void keyDown(cocos2d::enumKeyCodes kc) {
		auto mpl = reinterpret_cast<Main*>(PlayLayer::get());
		customKeybind(key_current, customKey);
		customKeybind(key_current2, customKey2);
		customKeybind(key_current3, customKey3);
		customKeybind(key_current4, customKey4);
		customKeybind(key_current5, customKey5);
		if (kc == KEY_F) {
			if (playerBools[29]) {
				stepready = true;
				stepready = false;
			}
		} else if (kc == customKey && keybinds >= 1) {
			customMod(mod_current);
		} else if (kc == customKey2 && keybinds >= 2) {
			customMod(mod_current2);
		} else if (kc == customKey3 && keybinds >= 3) {
			customMod(mod_current3);
		} else if (kc == customKey4 && keybinds >= 4) {
			customMod(mod_current4);
		} else if (kc == customKey5 && keybinds >= 5) {
			customMod(mod_current5);
		} else {
			UILayer::keyDown(kc);
		}
	}
};